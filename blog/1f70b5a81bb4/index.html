<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
  
    <title>节假日计算相关[dzd]</title>
  
  <!-- <title>节假日计算相关[dzd]</title> -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/style.css">

  <!-- 字体图标 -->
  <!-- <script src="https://kit.fontawesome.com/895a2e3e9e.js" crossorigin="anonymous" async></script> -->
  <!-- 百度统计 -->
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      // hm.src = "https://hm.baidu.com/hm.js?1b2d862f6763024eb69795ab8ef8c404";
      hm.src = "https://hm.baidu.com/hm.js?64cba5c79d730cff73ae4a75bdb75bf2";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  <!-- svg图标 -->
  <!-- <svg>
  <symbol></symbol>
</svg> -->
<meta name="generator" content="Hexo 5.0.2"></head>
<body>
  <div class="content-main-div min-vh-100">
    <header class="sticky height-120 top-0 width-percent-100 z-index-99 bg-line-type2">
  <!-- static -->
  <div class="display-flex height-100- item-space-between max-w-mian-size margin-center">
    <div class="mg-l-rem-2 display-flex shrink-0 height-100-">
      <span class="logo flex-end"></span>
      <span class="color-white logo-text flex-end">DZD-HELLO</span>
    </div>
    <nav class="grow-1 pd-l-60 relative z-index-99">
      <ul class="menu mg-0 pd-0">
        
        <li class="">
          <a class="nav-a" href="/" >Home</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/archives" >Archives</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/bookmarks/index" >Bookmarks</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/notes/index" >Notes</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/about/me" >About</a>
        </li>
        
      </ul>
    </nav>
    <div class="nav-show-bar">
      <!-- <i class="fas fa-bars"></i> -->
      <svg class="icon-svg" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="30869" width="200" height="200">
        <path d="M997.44827 485.043045l-80.873935 0 0 0.028653c-15.600303 0-28.106128 13.249769-26.855648 29.114085 1.029446 13.057387 11.608386 23.636327 24.665773 24.665773 0.73678 0.058328 1.465374 0.075725 2.188852 0.075725l0 0.028653 80.873935 0c14.889105 0 26.957978-12.068873 26.957978-26.954909C1024.406249 497.111918 1012.337375 485.043045 997.44827 485.043045zM997.44827 889.413745l-80.873935 0 0 0.047072c-15.600303 0-28.106128 13.249769-26.855648 29.114085 1.029446 13.057387 11.608386 23.636327 24.665773 24.665773 0.73678 0.058328 1.465374 0.075725 2.188852 0.075725l0 0.010233 80.873935 0c14.889105 0 26.957978-12.068873 26.957978-26.954909C1024.406249 901.482619 1012.337375 889.413745 997.44827 889.413745zM811.991418 80.758302c-1.096984-0.086981-2.180666-0.103354-3.25002-0.061398l0-0.024559L26.957974 80.672344c-14.889105 0-26.957978 12.068873-26.957978 26.954909 0 14.891152 12.068873 26.961048 26.957978 26.961048L808.741397 134.588301l0-0.068562c16.090467 0.618077 29.195949-12.873192 27.916816-29.095665C835.628768 92.367711 825.049828 81.788771 811.991418 80.758302zM914.384459 134.463458c0.73678 0.058328 1.465374 0.075725 2.188852 0.075725l0 0.049119 80.873935 0c14.889105 0 26.957978-12.068873 26.957978-26.961048 0-14.886035-12.068873-26.954909-26.957978-26.954909l-80.873935 0 0 0.010233c-15.600303 0-28.106128 13.249769-26.855648 29.114085C890.748133 122.854049 901.327072 133.432988 914.384459 134.463458zM811.991418 485.147422c-1.096984-0.086981-2.180666-0.103354-3.25002-0.061398l0-0.042979L26.957974 485.043045c-14.889105 0-26.957978 12.068873-26.957978 26.957978 0 14.886035 12.068873 26.954909 26.957978 26.954909L808.741397 538.955932l0-0.047072c16.090467 0.618077 29.195949-12.873192 27.916816-29.095665C835.628768 496.755808 825.049828 486.176868 811.991418 485.147422zM811.991418 889.536542c-1.096984-0.086981-2.180666-0.103354-3.25002-0.061398l0-0.061398L26.957974 889.413745c-14.889105 0-26.957978 12.068873-26.957978 26.957978 0 14.886035 12.068873 26.954909 26.957978 26.954909L808.741397 943.326633l0-0.029676c16.090467 0.618077 29.195949-12.873192 27.916816-29.095665C835.628768 901.144928 825.049828 890.565988 811.991418 889.536542z" p-id="30870" fill="currentColor"></path>
      </svg>
    </div>
    
    <!--
    <div class="absolute header-thumbtack cursor-pointer color-black-2 active">
      <span>
        <i class="absolute fa-thumbtack fas"></i>
      </span>
    </div>
    -->
  </div>
</header>
    <main class="display-flex direction-column">
      <div class="max-w-mian-size bg-line-type3 relative shrink-0 grow-1 width-percent-100 mg-t-20 pd-t-0">
        
<!-- top -->

<div class="content-toc-div">
  <div class="article-toc-parent z-index-2">
    <div
      class="color-blue-1 cursor-pointer border-bottom-blue-1 pd-l-12 pd-r-12 display-flex item-start hover-bg-gray1"
      onclick="this.parentElement.classList.contains('show-detail') ? this.parentElement.classList.remove('show-detail') : this.parentElement.classList.add('show-detail');"
    >
      <div>目录</div>
      <svg class="icon-svg-b" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20324" width="128" height="128">
        <path d="M688.64 757.76H360.96c-135.168 0-245.76-110.592-245.76-245.76s110.592-245.76 245.76-245.76h327.68c135.168 0 245.76 110.592 245.76 245.76s-110.592 245.76-245.76 245.76z" fill="#ccc"></path>
        <path id="circle-item" d="M686.08 512m-202.24 0a202.24 202.24 0 1 0 404.48 0 202.24 202.24 0 1 0-404.48 0Z"></path>
      </svg>
    </div>
    <div class="article-toc-div hidden">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%8E%B7%E5%8F%96%E8%8A%82%E5%81%87%E6%97%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">一、获取节假日数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%89%8B%E5%8A%A8%E6%94%B6%E9%9B%86"><span class="toc-text">1.1 手动收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E9%80%9A%E8%BF%87%E5%85%B6%E4%BB%96%E5%85%AC%E5%BC%80Api%E8%8E%B7%E5%8F%96"><span class="toc-text">2、通过其他公开Api获取</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95"><span class="toc-text">二、相关算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E6%97%A5%E6%9C%9F%E6%98%AF%E5%81%87%E6%9C%9F%E8%BF%98%E6%98%AF%E5%B7%A5%E4%BD%9C%E6%97%A5"><span class="toc-text">2.1 判断一个日期是假期还是工作日</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E8%AE%A1%E7%AE%97n%E4%B8%AA%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%90%8E%E7%9A%84%E6%97%A5%E6%9C%9F"><span class="toc-text">2.2 计算n个工作日后的日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E8%AE%A1%E7%AE%972%E4%B8%AA%E6%97%A5%E6%9C%9F%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%97%A5%E6%95%B0"><span class="toc-text">2.2 计算2个日期之间的工作日数</span></a></li></ol></li></ol>
    </div>
  </div>
</div>

<!-- content -->
<article class="relative">
  <!-- <div class="article-title z-index-2"> -->
  <div class="content-header mg-b-rem-2 relative">
    <div>
      <h2 class="ellipsis mg-0 pd-b-rem--1 pd-t-rem--1">节假日计算相关</h2>
      <!--
      <div
        class="absolute cursor-pointer right-0 top-0"
        onclick="this.parentElement.classList.contains('static') ? this.parentElement.classList.remove('static') : this.parentElement.classList.add('static');document.querySelector('.article-toc-parent').classList.add('top-0');"
      >
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="36" height="36">
          <defs>
            <style type="text/css">
              g:hover {
                stroke: #00aaf2;
                stroke-opacity: 0.8;
              }
            </style>
          </defs>
          <g stroke="white" stroke-width="4" stroke-linecap="round" transform="rotate(45, 18, 18)">
            <circle cx="18" cy="18" stroke-width="3" fill="transparent" r="15"></circle>
            <line x1="8" y1="18" x2="28" y2="18"></line>
            <line x1="18" y1="8" x2="18" y2="28"></line>
          </g>
        </svg>
      </div>
      -->
    </div>
    
    <div class="categories-div display-flex mg-b-12">
      <svg class="icon-svg mg-r-5" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9860" data-spm-anchor-id="a313x.7781069.0.i3" width="32" height="32"><path d="M810.666667 853.333333H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333333V256c0-47.36 37.973333-85.333333 85.333334-85.333333h256l85.333333 85.333333h298.666667c46.805333 0 85.333333 38.528 85.333333 85.333333H170.666667v426.666667l91.306666-341.333333h728.32l-97.28 362.666666c-9.813333 37.12-43.093333 64-82.346666 64z" fill="#ffffff" p-id="9861" data-spm-anchor-id="a313x.7781069.0.i0" class=""></path></svg>      <!--
      %- list_categories(page.categories, {
        class: 'category-item',
        show_count: false,
        style: 'list'
      }) 
      -->
      <a class="category-item-link" href="/categories/notes/">笔记</a> > <a class="category-item-link" href="/categories/notes/javascript/">javascript</a>
    </div>
    <div class="tags-div display-flex">
      <svg class="icon-svg mg-r-5" viewBox="0 0 1085 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8927" width="200" height="200"><path d="M256 256q0-30.285714-21.428571-51.714286T182.857143 182.857143t-51.714286 21.428571T109.714286 256t21.428571 51.714286T182.857143 329.142857t51.714286-21.428571T256 256z m609.714286 329.142857q0 30.285714-21.142857 51.428572l-280.571429 281.142857q-22.285714 21.142857-52 21.142857-30.285714 0-51.428571-21.142857L52 508.571429q-21.714286-21.142857-36.857143-57.714286T0 384V146.285714q0-29.714286 21.714286-51.428571t51.428571-21.714286h237.714286q30.285714 0 66.857143 15.142857T436 125.142857l408.571429 408q21.142857 22.285714 21.142857 52z m219.428571 0q0 30.285714-21.142857 51.428572l-280.571429 281.142857q-22.285714 21.142857-52 21.142857-20.571429 0-33.714285-8t-30.285715-25.714286l268.571429-268.571428q21.142857-21.142857 21.142857-51.428572 0-29.714286-21.142857-52L527.428571 125.142857q-21.714286-21.714286-58.285714-36.857143T402.285714 73.142857h128q30.285714 0 66.857143 15.142857t58.285714 36.857143l408.571429 408q21.142857 22.285714 21.142857 52z" p-id="8928" fill="currentColor"></path></svg>
      <ul class="tag-item-list" itemprop="keywords"><li class="tag-item-list-item"><a class="tag-item-list-link" href="/tags/Date/" rel="tag">Date</a></li><li class="tag-item-list-item"><a class="tag-item-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-item-list-item"><a class="tag-item-list-link" href="/tags/%E8%8A%82%E5%81%87%E6%97%A5/" rel="tag">节假日</a></li></ul>
    </div>
    
    <div class="data-layout-div display-flex relative top-rem--1 font--75">
      <div class="grow-1"></div>
      <div class="date-div bg-white shrink-0 display-flex flex-end pd-b-rem---5 pd-l-rem--1 pd-r-rem--1">
        <svg class="icon-svg mg-r-5 shrink-0" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14449" width="200" height="200">
          <path d="M41.795918 188.081633v794.122449h940.408164V188.081633H41.795918z m982.204082-41.795919v877.714286H0V146.285714h1024z" fill="#fff" p-id="14450"></path>
          <path d="M229.877551 0h41.795918v292.571429h-41.795918zM773.22449 0h41.795918v292.571429h-41.795918z" fill="#fff" p-id="14451"></path>
          <path d="M20.897959 376.163265h961.306123v41.795919H20.897959z" fill="#fff" p-id="14452"></path>
          <path d="M455.115755 801.729306L734.396082 522.44898l29.549714 29.549714-295.538939 295.538939-6.123102-6.123102-13.291102 13.291102L271.673469 677.386449 301.223184 647.836735l153.892571 153.892571z" fill="#fff" p-id="14453"></path>
        </svg>
        <span class="post-time ellipsis mg-r-rem-1 shrink-1" title="创建时间">2020-09-23 11:11</span>
        <svg class="icon-svg mg-r-5 shrink-0" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12476" width="200" height="200">
          <path d="M993.85823 51.261514a51.261514 51.261514 0 0 0-102.523028 0v85.709251A512.615138 512.615138 0 0 0 141.686824 831.871846a51.261514 51.261514 0 1 0 79.967962-64.384461 410.092111 410.092111 0 0 1 602.220264-553.624349L722.582299 205.046055a51.261514 51.261514 0 0 0-9.227073 102.523028l225.550661 20.504605h12.712855l4.921106-1.02523 4.716059-1.435322 4.716059-2.050461 4.305968-2.255506 4.100921-2.870645 3.690829-3.075691c1.230276-1.02523 2.255507-2.255507 3.485783-3.485783l2.05046-4.305967 2.665599-4.100921 2.460552-4.511013 1.845415-4.511014a41.009211 41.009211 0 0 0 1.435322-4.716059 24.400481 24.400481 0 0 0 1.025231-5.331197 12.507809 12.507809 0 0 0 0-2.665599V277.017221zM453.76692 914.505406a45.72527 45.72527 0 0 0-10.457349-3.895875 399.429716 399.429716 0 0 1-83.65879-31.167c-12.507809-6.151382-24.810573-13.122948-36.703244-20.504605l-4.511013-2.665599a51.261514 51.261514 0 0 0-50.236284 89.195034c11.892671 7.586704 23.990388 14.55827 36.703244 20.504605h26.861033l2.255507 1.025231a515.485783 515.485783 0 0 0 82.018422 28.296355 51.261514 51.261514 0 0 0 35.267922-95.551461z" fill="#fff" p-id="12477"></path>
          <path d="M672.961153 915.530637a50.646376 50.646376 0 0 0-34.857829-4.100921 405.991189 405.991189 0 0 1-64.794553 10.252302 51.261514 51.261514 0 0 0-18.864238 96.986785 50.236284 50.236284 0 0 0 26.450942 5.126151 517.331197 517.331197 0 0 0 82.018422-12.712855 51.261514 51.261514 0 0 0 37.728474-61.513817 50.646376 50.646376 0 0 0-27.681218-34.037645z m166.497397-77.302363a51.261514 51.261514 0 0 0-53.311974 4.716059c-8.81698 6.356428-18.044053 12.507809-27.271125 18.249099a51.46656 51.46656 0 0 0-16.608731 70.535843 51.261514 51.261514 0 0 0 70.535843 16.608731c11.687625-7.176612 22.965158-14.763316 34.037645-22.965159a51.46656 51.46656 0 0 0-7.381658-87.144573z m109.289548-102.728074a51.261514 51.261514 0 1 0 13.943131 71.150981 51.46656 51.46656 0 0 0-13.943131-71.150981z" fill="#fff" p-id="12478"></path>
        </svg>
        <span class="post-time ellipsis shrink-1" title="更新时间">2020-09-27 10:00</span>
      </div>
    </div>
  </div>
  <div class="content-div pd-l-rem--1 pd-r-rem--1">
    <h2 id="一、获取节假日数据"><a href="#一、获取节假日数据" class="headerlink" title="一、获取节假日数据"></a>一、获取节假日数据</h2><h3 id="1-1-手动收集"><a href="#1-1-手动收集" class="headerlink" title="1.1 手动收集"></a>1.1 手动收集</h3><blockquote>
<p>通过<a target="_blank" rel="noopener" href="http://sousuo.gov.cn/s.htm?t=govall&q=%E8%8A%82%E5%81%87%E6%97%A5">官网</a>通知获取节假日信息，手动收集<br>下面为个人收集的2020年假节日-调休数据，可直接使用<br><span class="color-red">注意：放假情况可能会因特殊情况做出调整，记得及时更新</span></p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * description: 2020年假期-调休数据 status-1放假, -2调休（工作日）
 * 更新时间：2020-09-28
 * author: dzd
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> holidayArr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// 2020年</span>
  <span class="token comment">// 元旦</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-1"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 春节</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-24"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-25"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-26"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-27"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-28"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-29"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-30"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-31"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-2-1"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-2-2"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-1-19"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 清明节</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-4-4"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-4-5"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-4-6"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 劳动节</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-5-1"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-5-2"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-5-3"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-5-4"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-5-5"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-4-26"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-5-9"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 端午节</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-6-25"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-6-26"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-6-27"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-6-28"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 国庆节、中秋节</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-1"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-2"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-3"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-4"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-5"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-6"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-7"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-8"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-9-27"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token string">"date"</span><span class="token operator">:</span><span class="token string">"2020-10-10"</span><span class="token punctuation">,</span><span class="token string">"status"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="2、通过其他公开Api获取"><a href="#2、通过其他公开Api获取" class="headerlink" title="2、通过其他公开Api获取"></a>2、通过其他公开Api获取</h3><blockquote>
<p>百度万年历节接口：<a target="_blank" rel="noopener" href="https://sp0.baidu.com/8aQDcjqpAAV3otqbppnN2DJv/api.php?query=202010&amp;resource_id=6018">https://sp0.baidu.com/8aQDcjqpAAV3otqbppnN2DJv/api.php?query=202010&amp;resource_id=6018</a>，其中<code>query=年[月]</code>，如<code>202010</code>·`,月份为空默认为01</p>
</blockquote>
<p>返回结构如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
    <span class="token comment">// 当前查询年月</span>
    OriginQuery<span class="token operator">:</span> <span class="token string">"202010"</span><span class="token punctuation">,</span>
    <span class="token comment">// 本月日历</span>
    almanac<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 本年节假日及调休数据</span>
    holiday<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            <span class="token comment">// 节假日起始日</span>
            festival<span class="token operator">:</span> <span class="token string">"2020-10-1"</span><span class="token punctuation">,</span>
            <span class="token comment">// 节假日期list</span>
            list<span class="token operator">:</span> <span class="token punctuation">[</span>
                date<span class="token operator">:</span> <span class="token string">"2020-10-1"</span><span class="token punctuation">,</span>
                <span class="token comment">// 节假日-'1'，调休（工作日）-'2'</span>
                status<span class="token operator">:</span> <span class="token string">"1"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 本年节假</span>
    holidaylist<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>提取所有节假日期和调休</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> holidayArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// response - 上面接口返回的数据</span>
<span class="token keyword">const</span> temp1 <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>holiday
temp1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 已添加的不必重复</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>holidayArr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">hasItem</span> <span class="token operator">=></span> hasItem<span class="token punctuation">.</span>date <span class="token operator">===</span> item<span class="token punctuation">.</span>festival<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">&#125;</span>
    item<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dateItem</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        holidayArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token operator">...</span>dateItem<span class="token punctuation">,</span> des<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>item<span class="token punctuation">.</span>desc<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<p>通过以上操作可获取结构为<code>[&#123;date: &#39;2020-01-01&#39;, status: &#39;1&#39;&#125;]</code>的数组<code>holidayArr</code>，其中status = 1-节假日、2 - 工作日，如下图：</p>
<img src="/blog/1f70b5a81bb4/t2.png" class="" title="节假日&#x2F;调休Array" alt="节假日&#x2F;调休Array">

<h2 id="二、相关算法"><a href="#二、相关算法" class="headerlink" title="二、相关算法"></a>二、相关算法</h2><h3 id="2-1-判断一个日期是假期还是工作日"><a href="#2-1-判断一个日期是假期还是工作日" class="headerlink" title="2.1 判断一个日期是假期还是工作日"></a>2.1 判断一个日期是假期还是工作日</h3><blockquote>
<p>首先判断日期是否在<code>holidayArr</code>中，在里面就根据<code>status</code>可以确定，不在里面再根据是否为周末判断，如下图：</p>
<img src="/blog/1f70b5a81bb4/t3.png" class="">
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 收集到的节假/调休日期</span>
<span class="token keyword">const</span> holidayArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 是否为工作日 dateParam - Date | String</span>
<span class="token keyword">const</span> <span class="token function-variable function">isWorkDay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dateParam</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    check<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否正常判断</span>
    value<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    warningMsg<span class="token operator">:</span> <span class="token string">''</span> <span class="token comment">// check=0时提示信息</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dateParam <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    date <span class="token operator">=</span> dateParam<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> dateParam <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>dateParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    result<span class="token punctuation">.</span>check <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>warningMsg <span class="token operator">=</span> <span class="token string">'暂不支持其他格式解析！'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">const</span> year <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 这里根据年份支持情况调整</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">!==</span> <span class="token number">2020</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    result<span class="token punctuation">.</span>check <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>warningMsg <span class="token operator">=</span> <span class="token string">'暂时仅支持2020年工作日判断！'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">const</span> dateStr <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>year<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> dateItem <span class="token operator">=</span> holidayArr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>date <span class="token operator">===</span> dateStr<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dateItem <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 1-节假日，2-工作日</span>
    result<span class="token punctuation">.</span>value <span class="token operator">=</span> dateItem<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'2'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// 判断是否为周末,week表示日期对象的星期中的第几天（0-6）</span>
  <span class="token keyword">const</span> week <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  result<span class="token punctuation">.</span>value <span class="token operator">=</span> week<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[1-5]/</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">isWorkDay</span><span class="token punctuation">(</span><span class="token string">'2020-09-27'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>check <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">||</span> result<span class="token punctuation">.</span>warningMsg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="2-2-计算n个工作日后的日期"><a href="#2-2-计算n个工作日后的日期" class="headerlink" title="2.2 计算n个工作日后的日期"></a>2.2 计算n个工作日后的日期</h3><blockquote>
<p>使用比较笨的方法，传入值依次添加 <strong>1</strong> 天，判断为工作日则累计值<code>m</code>（默认0）加 <strong>1</strong> ，直到 <code>n === m</code><br>如2020-09-27，增加1个工作日为2020-09-28,增加5个工作日后为2020-10-10<br><span class="color-red">注：计算范围必须在节假日时间范围内，比如此例子计算范围为2020年整年，若计算结果可能不在2020年，则不会准确。</span><strong>可通过添加<code>holidayArr</code>子项解决此问题</strong></p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 获取经过n个工作日后日期 dateParam - Date | String, n - Number | String</span>
<span class="token keyword">const</span> <span class="token function-variable function">getAddWorkDayDate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dateParam<span class="token punctuation">,</span> addNum</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// addNum为数字或数字符串，负数表示经过addNum天到达传入dateParam，返回之前的日期</span>
  <span class="token keyword">const</span> addNumType <span class="token operator">=</span> <span class="token keyword">typeof</span> addNum<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>addNumType<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/string|number/</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>addNum<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'计算参数传参格式有误！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">''</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">const</span> num <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>addNum<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// tag - true(正向日期计算)，- false(反向计算)</span>
  <span class="token keyword">const</span> tag <span class="token operator">=</span> num <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">// 增加或减少的工作日</span>
  <span class="token keyword">let</span> calcDay <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 返回日期，初始值为传入值</span>
  <span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dateParam <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    date <span class="token operator">=</span> dateParam<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> dateParam <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>dateParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'暂不支持其他格式解析！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">''</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>calcDay<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> curDay <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    date<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>tag <span class="token operator">?</span> <span class="token punctuation">(</span>curDay <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>curDay <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 判断是否为工作日</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">isWorkDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      calcDay<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">const</span> dateStr <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> dateStr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getAddWorkDayDate</span><span class="token punctuation">(</span><span class="token string">'2020-09-27'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-09-28</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getAddWorkDayDate</span><span class="token punctuation">(</span><span class="token string">'2020-09-27'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-10-10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getAddWorkDayDate</span><span class="token punctuation">(</span><span class="token string">'2020-09-27'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-9-21</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="2-2-计算2个日期之间的工作日数"><a href="#2-2-计算2个日期之间的工作日数" class="headerlink" title="2.2 计算2个日期之间的工作日数"></a>2.2 计算2个日期之间的工作日数</h3><blockquote>
<p>有时间再写，原理跟上面步骤类似。。</p>
</blockquote>

  </div>
</article>
      </div>
      <footer class="max-w-mian-size color-black-1 font--75 bg-gray-type1 width-percent-100">
  <div class="display-flex item-center max-w-mian-size margin-center height-100-">
    <p class="mg-0 nowrap">© 2020 dzd (๑• . •๑)</p>
  </div>
</footer>
    </main>
  </div>
  
<script src="/js/init.js"></script>

</body>
</html>