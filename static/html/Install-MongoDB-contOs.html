<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
  
    <title>dzd`s blog[dzd]</title>
  
  <!-- <title>dzd`s blog[dzd]</title> -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/style.css">

  <!-- 字体图标 -->
  <!-- <script src="https://kit.fontawesome.com/895a2e3e9e.js" crossorigin="anonymous" async></script> -->
  <!-- 百度统计 -->
  <script>
    var _hmt = _hmt || [];
    (function() {
      // 本地调试不启用统计
      if (/localhost|127.0.0.1/.test(location.hostname)) {
        return
      }
      var hm = document.createElement("script");
      // hm.src = "https://hm.baidu.com/hm.js?1b2d862f6763024eb69795ab8ef8c404";
      hm.src = "https://hm.baidu.com/hm.js?64cba5c79d730cff73ae4a75bdb75bf2";
      hm.defer = true
      hm.async = true
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  <!-- svg图标 -->
  <!-- <svg>
  <symbol></symbol>
</svg> -->
<meta name="generator" content="Hexo 5.0.2"></head>
<body>
  <div class="content-main-div min-vh-100">
    <header class="fixed top-0 transition-a-2 height-120 width-percent-100 z-index-99 bg-line-type2 static">
  <!--  -->
  <div class="display-flex height-100- item-space-between max-w-mian-size margin-center">
    <div class="mg-l-rem-2 display-flex shrink-0 height-100-">
      <!-- <span class="logo flex-end"></span> -->
      <!-- <span class="color-white logo-text flex-end">DZD-HELLO</span> -->
      <span class="logo-svg-span bg-white relative height-100-">
        <img src="/images/blog-LOGO.svg" />
        <span class="logo-svg-text">DZD-HELLO</span>
      </span>
    </div>
    <nav class="grow-1 pd-l-60 relative z-index-99">
      <ul class="menu mg-0 pd-0">
        
        <li class="">
          <a class="nav-a" href="/" >Home</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/archives" >Archives</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/bookmarks/index" >Bookmarks</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/notes/index" >Notes</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/about/me" >About</a>
        </li>
        
      </ul>
    </nav>
    <div class="nav-show-bar">
      <!-- <i class="fas fa-bars"></i> -->
      <svg class="icon-svg" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="30869" width="200" height="200">
        <path d="M997.44827 485.043045l-80.873935 0 0 0.028653c-15.600303 0-28.106128 13.249769-26.855648 29.114085 1.029446 13.057387 11.608386 23.636327 24.665773 24.665773 0.73678 0.058328 1.465374 0.075725 2.188852 0.075725l0 0.028653 80.873935 0c14.889105 0 26.957978-12.068873 26.957978-26.954909C1024.406249 497.111918 1012.337375 485.043045 997.44827 485.043045zM997.44827 889.413745l-80.873935 0 0 0.047072c-15.600303 0-28.106128 13.249769-26.855648 29.114085 1.029446 13.057387 11.608386 23.636327 24.665773 24.665773 0.73678 0.058328 1.465374 0.075725 2.188852 0.075725l0 0.010233 80.873935 0c14.889105 0 26.957978-12.068873 26.957978-26.954909C1024.406249 901.482619 1012.337375 889.413745 997.44827 889.413745zM811.991418 80.758302c-1.096984-0.086981-2.180666-0.103354-3.25002-0.061398l0-0.024559L26.957974 80.672344c-14.889105 0-26.957978 12.068873-26.957978 26.954909 0 14.891152 12.068873 26.961048 26.957978 26.961048L808.741397 134.588301l0-0.068562c16.090467 0.618077 29.195949-12.873192 27.916816-29.095665C835.628768 92.367711 825.049828 81.788771 811.991418 80.758302zM914.384459 134.463458c0.73678 0.058328 1.465374 0.075725 2.188852 0.075725l0 0.049119 80.873935 0c14.889105 0 26.957978-12.068873 26.957978-26.961048 0-14.886035-12.068873-26.954909-26.957978-26.954909l-80.873935 0 0 0.010233c-15.600303 0-28.106128 13.249769-26.855648 29.114085C890.748133 122.854049 901.327072 133.432988 914.384459 134.463458zM811.991418 485.147422c-1.096984-0.086981-2.180666-0.103354-3.25002-0.061398l0-0.042979L26.957974 485.043045c-14.889105 0-26.957978 12.068873-26.957978 26.957978 0 14.886035 12.068873 26.954909 26.957978 26.954909L808.741397 538.955932l0-0.047072c16.090467 0.618077 29.195949-12.873192 27.916816-29.095665C835.628768 496.755808 825.049828 486.176868 811.991418 485.147422zM811.991418 889.536542c-1.096984-0.086981-2.180666-0.103354-3.25002-0.061398l0-0.061398L26.957974 889.413745c-14.889105 0-26.957978 12.068873-26.957978 26.957978 0 14.886035 12.068873 26.954909 26.957978 26.954909L808.741397 943.326633l0-0.029676c16.090467 0.618077 29.195949-12.873192 27.916816-29.095665C835.628768 901.144928 825.049828 890.565988 811.991418 889.536542z" p-id="30870" fill="currentColor"></path>
      </svg>
    </div>
    <!-- 固定header -->
    <div class="absolute header-thumbtack cursor-pointer color-black-2">
      <span>
        <!-- <i class="absolute fa-thumbtack fas"></i> -->
        <svg class="absolute svg-thumbtack" t="1611770899771" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2821" width="200" height="200"><path d="M381.298 418.828h-157.703l-37.575 38.272 155.61 158.377-278.212 345.128 356.040-265.838 154.71 157.41 38.813-39.51 2.407-157.972 238.838-313.29 71.685 73.013 34.695-35.28-310.185-315.743-34.672 35.257 77.287 79.402-311.737 240.773z" p-id="2822" fill="currentColor"></path></svg>
      </span>
    </div>
  </div>
</header>
    <main class="display-flex direction-column pd-t-120">
      <div class="max-w-mian-size bg-line-type3 relative shrink-0 grow-1 width-percent-100 mg-t-20 pd-t-0">
        <!-- content -->
<article class="relative">
    <div class="content-div pd-l-rem--1 pd-r-rem--1">
        <html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
</head>
<body data-project="manual" data-project-title="MongoDB Manual" data-branch="master" data-enable-marian="1">
  <!-- Google Tag Manager -->
  
  
  <!-- End Google Tag Manager -->
      <div class="content">

   

    <div id="main-column" class="main-column">

    

      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="tutorial/install-mongodb-on-red-hat">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/master/source/tutorial/install-mongodb-on-red-hat.txt" target="_blank" title="Edit tutorial/install-mongodb-on-red-hat.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  
                
                  <div class="section" id="install-mongodb-community-edition-on-red-hat-or-centos">
<h1>
  Install MongoDB Community Edition on Red Hat or CentOS
  <a class="headerlink" href="#install-mongodb-community-edition-on-red-hat-or-centos" title="Permalink to this headline">¶</a>
  <a class="color-red" target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/">源地址</a>
</h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id15">Overview</a></li>
<li><a class="reference internal" href="#considerations" id="id16">Considerations</a></li>
<li><a class="reference internal" href="#install-mongodb-community-edition" id="id17">Install MongoDB Community Edition</a></li>
<li><a class="reference internal" href="#run-mongodb-community-edition" id="id18">Run MongoDB Community Edition</a></li>
<li><a class="reference internal" href="#uninstall-mongodb-community-edition" id="id19">Uninstall MongoDB Community Edition</a></li>
<li><a class="reference internal" href="#additional-information" id="id20">Additional Information</a></li>
</ul>
</div>
<div class="note admonition">
<p class="first admonition-title">MongoDB Atlas</p>
<div class="last docutils container">
<a class="reference external" target="_blank" rel="noopener" href="https://www.mongodb.com/cloud/atlas?tck=docs_server">MongoDB Atlas</a>
is a hosted MongoDB service option in the cloud which requires no
installation overhead and offers a free tier to get started.</div>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Use this tutorial to install MongoDB 4.4 Community Edition on
Red Hat Enterprise Linux, CentOS Linux, or Oracle Linux
<a class="footnote-reference" href="#oracle-linux" id="id1">[1]</a> using the <code class="docutils literal"><span class="pre">yum</span></code> package manager.</p>
<div class="section" id="mongodb-version">
<h3>MongoDB Version<a class="headerlink" href="#mongodb-version" title="Permalink to this headline">¶</a></h3>
<p>This tutorial installs MongoDB 4.4 Community
Edition. To install a different version of MongoDB Community,
use the version drop-down menu in the upper-left corner of this page to
select the documentation for that version.</p>
</div>
</div>
<div class="section" id="considerations">
<h2>Considerations<a class="headerlink" href="#considerations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="platform-support">
<h3>Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this headline">¶</a></h3>
<p>MongoDB 4.4 Community Edition supports the following
<strong class="text-danger">64-bit</strong> versions of Red Hat Enterprise Linux (RHEL), CentOS Linux,
and Oracle Linux <a class="footnote-reference" href="#oracle-linux" id="id2">[1]</a> on
<a class="reference internal" href="../../administration/production-notes/#prod-notes-supported-platforms-x86-64"><span class="std std-ref">x86_64</span></a> architecture:</p>
<ul class="simple">
<li><abbr title="Red Hat Enterprise Linux">RHEL</abbr> / CentOS / Oracle 8</li>
<li><abbr title="Red Hat Enterprise Linux">RHEL</abbr> / CentOS / Oracle 7</li>
<li><abbr title="Red Hat Enterprise Linux">RHEL</abbr> / CentOS / Oracle 6</li>
</ul>
<p>MongoDB only supports the 64-bit versions of these platforms.</p>
<p>MongoDB 4.4 Community Edition on
<abbr title="Red Hat Enterprise Linux">RHEL</abbr> / CentOS / Oracle also supports
the <a class="reference internal" href="../../administration/production-notes/#prod-notes-supported-platforms-s390x"><span class="std std-ref">s390x</span></a> architecture on
select platforms.</p>
<p>See <a class="reference internal" href="../../administration/production-notes/#prod-notes-supported-platforms"><span class="std std-ref">Supported Platforms</span></a> for more information.</p>
<table class="docutils footnote" frame="void" id="oracle-linux" rules="none">
<colgroup><col class="label"><col></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> MongoDB only supports Oracle Linux running the Red Hat Compatible
Kernel (RHCK). MongoDB does <strong>not</strong> support the Unbreakable
Enterprise Kernel (UEK).</td></tr>
</tbody>
</table>
<div class="warning admonition">
<p class="first admonition-title">Windows Subsystem for Linux (WSL) - Unsupported</p>
<p class="last">MongoDB does not support the Windows Subsystem for Linux (WSL).</p>
</div>
</div>
<div class="section" id="production-notes">
<h3>Production Notes<a class="headerlink" href="#production-notes" title="Permalink to this headline">¶</a></h3>
<p>Before deploying MongoDB in a production environment, consider the
<a class="reference internal" href="../../administration/production-notes/"><span class="doc">Production Notes</span></a> document which offers
performance considerations and configuration recommendations for
production MongoDB deployments.</p>
</div>
</div>
<div class="section" id="install-mongodb-community-edition">
<span id="install-community-redhat-pkg"></span><h2>Install MongoDB Community Edition<a class="headerlink" href="#install-mongodb-community-edition" title="Permalink to this headline">¶</a></h2>
<p>Follow these steps to install MongoDB Community Edition using the
<code class="docutils literal"><span class="pre">yum</span></code> package manager.</p>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">1</div></div><div class="section" id="configure-the-package-management-system-yum">
<h3>Configure the package management system (<code class="docutils literal"><span class="pre">yum</span></code>).<a class="headerlink" href="#configure-the-package-management-system-yum" title="Permalink to this headline">¶</a></h3>
<p>Create a <code class="docutils literal"><span class="pre">/etc/yum.repos.d/mongodb-org-4.4.repo</span></code> file so that
you can install MongoDB directly using <code class="docutils literal"><span class="pre">yum</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-cfg"><div class="highlight"><pre><span></span><span class="k">[mongodb-org-4.4]</span>
<span class="na">name</span><span class="o">=</span><span class="s">MongoDB Repository</span>
<span class="na">baseurl</span><span class="o">=</span><span class="s">https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.4/x86_64/</span>
<span class="na">gpgcheck</span><span class="o">=</span><span class="s">1</span>
<span class="na">enabled</span><span class="o">=</span><span class="s">1</span>
<span class="na">gpgkey</span><span class="o">=</span><span class="s">https://www.mongodb.org/static/pgp/server-4.4.asc</span>
</pre></div>
</div>
</div>
<p>You can also download the <code class="docutils literal"><span class="pre">.rpm</span></code> files directly from the
<a class="reference external" target="_blank" rel="noopener" href="https://repo.mongodb.org/yum/redhat/">MongoDB repository</a>. Downloads are organized by Red Hat / CentOS
version (e.g. <code class="docutils literal"><span class="pre">7</span></code>), then MongoDB
<a class="reference internal" href="../../reference/versioning/"><span class="doc">release version</span></a>
(e.g. <code class="docutils literal"><span class="pre">4.4</span></code>), then architecture (e.g. <code class="docutils literal"><span class="pre">x86_64</span></code>).
Odd-numbered MongoDB release versions, such as
<code class="docutils literal"><span class="pre">4.3</span></code>, are development versions and are
unsuitable for production deployment.</p>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">2</div></div><div class="section" id="install-the-mongodb-packages">
<h3>Install the MongoDB packages.<a class="headerlink" href="#install-the-mongodb-packages" title="Permalink to this headline">¶</a></h3>
<p>To install the latest stable version of MongoDB, issue the following
command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo yum install -y mongodb-org
</pre></div>
</div>
</div>
<p>Alternatively, to install a specific release of MongoDB, specify each
component package individually and append the version number to the
package name, as in the following example:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo yum install -y mongodb-org-4.4.2 mongodb-org-server-4.4.2 mongodb-org-shell-4.4.2 mongodb-org-mongos-4.4.2 mongodb-org-tools-4.4.2
</pre></div>
</div>
</div>
<p>You can specify any available version of MongoDB. However <code class="docutils literal"><span class="pre">yum</span></code>
upgrades the packages when a newer version becomes available. To
prevent unintended upgrades, pin the package. To pin a package, add
the following <code class="docutils literal"><span class="pre">exclude</span></code> directive to your <code class="docutils literal"><span class="pre">/etc/yum.conf</span></code> file:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-ini"><div class="highlight"><pre><span></span><span class="na">exclude</span><span class="o">=</span><span class="s">mongodb-org,mongodb-org-server,mongodb-org-shell,mongodb-org-mongos,mongodb-org-tools</span>
</pre></div>
</div>
</div>
</div></div>
</div>
<div class="section" id="run-mongodb-community-edition">
<h2>Run MongoDB Community Edition<a class="headerlink" href="#run-mongodb-community-edition" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ulimit">
<h4>ulimit<a class="headerlink" href="#ulimit" title="Permalink to this headline">¶</a></h4>
<div class="docutils container">
<p>Most Unix-like operating systems limit the system resources that a
process may use. These limits may negatively impact MongoDB operation,
and should be adjusted. See <a class="reference internal" href="../../reference/ulimit/"><span class="doc">UNIX ulimit Settings</span></a> for the recommended
settings for your platform.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Starting in MongoDB 4.4, a startup error is generated if the
<code class="docutils literal"><span class="pre">ulimit</span></code> value for number of open files is under <code class="docutils literal"><span class="pre">64000</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="directory-paths">
<h4>Directory Paths<a class="headerlink" href="#directory-paths" title="Permalink to this headline">¶</a></h4>
<div class="section" id="to-use-default-directories">
<h5>To Use Default Directories<a class="headerlink" href="#to-use-default-directories" title="Permalink to this headline">¶</a></h5>
<div class="docutils container">
<p>By default, MongoDB runs using the <code class="docutils literal"><span class="pre">mongod</span></code> user account and
uses the following default directories:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">/var/lib/mongo</span></code> (the data directory)</li>
<li><code class="docutils literal"><span class="pre">/var/log/mongodb</span></code> (the log directory)</li>
</ul>
<dl class="docutils">
<dt>➤ If you installed via the package manager,</dt>
<dd>The default directories are created, and the owner and group for
these directories are set to <code class="docutils literal"><span class="pre">mongod</span></code>.</dd>
<dt>➤ If you installed by downloading the tarballs,</dt>
<dd><p class="first">The default MongoDB directories are not created. To create the
MongoDB data and log directories:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo mkdir -p /var/lib/mongo
sudo mkdir -p /var/log/mongodb
</pre></div>
</div>
</div>
<p>By default, MongoDB runs using the <code class="docutils literal"><span class="pre">mongod</span></code> user account. Once
created, set the owner and group of these directories to <code class="docutils literal"><span class="pre">mongod</span></code>:</p>
<div class="last button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo chown -R mongod:mongod &lt;directory&gt;
</pre></div>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="to-use-non-default-directories">
<h5>To Use Non-Default Directories<a class="headerlink" href="#to-use-non-default-directories" title="Permalink to this headline">¶</a></h5>
<div class="docutils container">
<p>To use a data directory and/or log directory other than the default
directories:</p>
<ol class="arabic">
<li><p class="first">Create the new directory or directories.</p>
</li>
<li><p class="first">Edit the configuration file <code class="docutils literal"><span class="pre">/etc/mongod.conf</span></code> and modify the
following fields accordingly:</p>
<ul class="simple">
<li><a class="reference internal" href="../../reference/configuration-options/#storage.dbPath" title="storage.dbPath"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">storage.dbPath</span></code></a> to specify a new data directory path (e.g. <code class="docutils literal"><span class="pre">/some/data/directory</span></code>)</li>
<li><a class="reference internal" href="../../reference/configuration-options/#systemLog.path" title="systemLog.path"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">systemLog.path</span></code></a> to specify a new log file path (e.g. <code class="docutils literal"><span class="pre">/some/log/directory/mongod.log</span></code>)</li>
</ul>
</li>
<li><p class="first">Ensure that the user running MongoDB has access to the directory or
directories:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo chown -R mongod:mongod &lt;directory&gt;
</pre></div>
</div>
</div>
<p>If you change the user that runs the MongoDB process, you <strong>must</strong>
give the new user access to these directories.</p>
</li>
<li><p class="first">Configure SELinux if enforced.  See <a class="reference internal" href="#install-rhel-configure-selinux"><span class="std std-ref">Configure SELinux</span></a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="configure-selinux">
<span id="install-rhel-configure-selinux"></span><span id="install-selinux-data-directory"></span><h4>Configure SELinux<a class="headerlink" href="#configure-selinux" title="Permalink to this headline">¶</a></h4>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If SELinux is in <code class="docutils literal"><span class="pre">enforcing</span></code> mode, you must customize your SELinux
policy for MongoDB by making the following two policy adjustments:</p>
</div>
<div class="section" id="permit-access-to-cgroup">
<h5>Permit Access to <code class="docutils literal"><span class="pre">cgroup</span></code><a class="headerlink" href="#permit-access-to-cgroup" title="Permalink to this headline">¶</a></h5>
<div class="docutils container">
<p>The current SELinux Policy does not allow the MongoDB process to
access <code class="docutils literal"><span class="pre">/sys/fs/cgroup</span></code>, which is required to determine
the available memory on your system. If you intend to run SELinux in
<code class="docutils literal"><span class="pre">enforcing</span></code> mode, you will need to make the following adjustment
to your SELinux policy:</p>
<ol class="arabic">
<li><p class="first">Ensure your system has the <code class="docutils literal"><span class="pre">checkpolicy</span></code> package installed:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo yum install checkpolicy
</pre></div>
</div>
</div>
</li>
<li><p class="first">Create a custom policy file <code class="file docutils literal"><span class="pre">mongodb_cgroup_memory.te</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>cat &gt; mongodb_cgroup_memory.te <span class="s">&lt;&lt;EOF</span>
<span class="s">module mongodb_cgroup_memory 1.0;</span>

<span class="s">require {</span>
<span class="s">    type cgroup_t;</span>
<span class="s">    type mongod_t;</span>
<span class="s">    class dir search;</span>
<span class="s">    class file { getattr open read };</span>
<span class="s">}</span>

<span class="s">#============= mongod_t ==============</span>
<span class="s">allow mongod_t cgroup_t:dir search;</span>
<span class="s">allow mongod_t cgroup_t:file { getattr open read };</span>
<span class="s">EOF</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">Once created, compile and load the custom policy module by
running these three commands:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>checkmodule -M -m -o mongodb_cgroup_memory.mod mongodb_cgroup_memory.te
semodule_package -o mongodb_cgroup_memory.pp -m mongodb_cgroup_memory.mod
sudo semodule -i mongodb_cgroup_memory.pp
</pre></div>
</div>
</div>
</li>
</ol>
<p>The MongoDB process is now able to access the correct files with
SELinux set to <code class="docutils literal"><span class="pre">enforcing</span></code>.</p>
</div>
</div>
<div class="section" id="permit-access-to-netstat-for-ftdc">
<h5>Permit Access to <code class="docutils literal"><span class="pre">netstat</span></code> for FTDC<a class="headerlink" href="#permit-access-to-netstat-for-ftdc" title="Permalink to this headline">¶</a></h5>
<div class="docutils container">
<p>The current SELinux Policy does not allow the MongoDB process to open
and read <code class="docutils literal"><span class="pre">/proc/net/netstat</span></code>, which is required for
<a class="reference internal" href="../../administration/analyzing-mongodb-performance/#ftdc-stub"><span class="std std-ref">Full Time Diagnostic Data Capture (FTDC)</span></a>.
If you intend to run SELinux in
<code class="docutils literal"><span class="pre">enforcing</span></code> mode, you will need to make the following adjustment
to your SELinux policy:</p>
<ol class="arabic">
<li><p class="first">Ensure your system has the <code class="docutils literal"><span class="pre">checkpolicy</span></code> package installed:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo yum install checkpolicy
</pre></div>
</div>
</div>
</li>
<li><p class="first">Create a custom policy file <code class="file docutils literal"><span class="pre">mongodb_proc_net.te</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>cat &gt; mongodb_proc_net.te <span class="s">&lt;&lt;EOF</span>
<span class="s">module mongodb_proc_net 1.0;</span>

<span class="s">require {</span>
<span class="s">    type proc_net_t;</span>
<span class="s">    type mongod_t;</span>
<span class="s">    class file { open read };</span>
<span class="s">}</span>

<span class="s">#============= mongod_t ==============</span>
<span class="s">allow mongod_t proc_net_t:file { open read };</span>
<span class="s">EOF</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">Once created, compile and load the custom policy module by
running these three commands:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>checkmodule -M -m -o mongodb_proc_net.mod mongodb_proc_net.te
semodule_package -o mongodb_proc_net.pp -m mongodb_proc_net.mod
sudo semodule -i mongodb_proc_net.pp
</pre></div>
</div>
</div>
</li>
</ol>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>In addition to the above, you will also need to further customize
your SELinux policy in the following two cases if SELinux is in
<code class="docutils literal"><span class="pre">enforcing</span></code> mode:</p>
<ul class="last simple">
<li>You are using a <strong>custom directory path</strong> instead of using the
default <a class="reference internal" href="../../reference/configuration-options/#storage.dbPath" title="storage.dbPath"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">dbPath</span></code></a>, <a class="reference internal" href="../../reference/configuration-options/#systemLog.path" title="systemLog.path"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">systemLog.path</span></code></a>, or
<a class="reference internal" href="../../reference/configuration-options/#processManagement.pidFilePath" title="processManagement.pidFilePath"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">pidFilePath</span></code></a> in RHEL 7.0 or later,
and/or</li>
<li>You are using a <strong>custom port</strong> instead of using the <a class="reference internal" href="../../reference/default-mongodb-port/"><span class="doc">default MongoDB ports</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="using-a-custom-mongodb-directory-path">
<h5>Using a Custom MongoDB Directory Path<a class="headerlink" href="#using-a-custom-mongodb-directory-path" title="Permalink to this headline">¶</a></h5>
<div class="docutils container">
<ol class="arabic">
<li><p class="first">Update the SELinux policy to allow the <code class="docutils literal"><span class="pre">mongod</span></code> service
to use the new directory:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo semanage fcontext -a -t &lt;type&gt; &lt;/some/MongoDB/directory.*&gt;
</pre></div>
</div>
</div>
<p>where specify one of the following types as appropriate:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">mongod_var_lib_t</span></code> for data directory</li>
<li><code class="docutils literal"><span class="pre">mongod_log_t</span></code> for log file directory</li>
<li><code class="docutils literal"><span class="pre">mongod_var_run_t</span></code> for pid file directory</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Be sure to include the <code class="docutils literal"><span class="pre">.*</span></code> at the end of the directory.</p>
</div>
</li>
<li><p class="first">Update the SELinux user policy for the new directory:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo chcon -Rv -u system_u -t &lt;type&gt; &lt;/some/MongoDB/directory&gt;
</pre></div>
</div>
</div>
<p>where specify one of the following types as appropriate:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">mongod_var_lib_t</span></code> for data directory</li>
<li><code class="docutils literal"><span class="pre">mongod_log_t</span></code> for log directory</li>
<li><code class="docutils literal"><span class="pre">mongod_var_run_t</span></code> for pid file directory</li>
</ul>
</li>
<li><p class="first">Apply the updated SELinux policies to the directory:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>restorecon -R -v &lt;/some/MongoDB/directory&gt;
</pre></div>
</div>
</div>
</li>
</ol>
<p>For example:</p>
<div class="admonition-tip admonition">
<p class="first admonition-title">Tip</p>
<p class="last">Be sure to include the <code class="docutils literal"><span class="pre">.*</span></code> at the end of the directory for the
<code class="docutils literal"><span class="pre">semanage</span> <span class="pre">fcontext</span></code> operations.</p>
</div>
<ul>
<li><p class="first">If using a non-default MongoDB data path of <code class="docutils literal"><span class="pre">/mongodb/data</span></code>:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo semanage fcontext -a -t mongod_var_lib_t <span class="s1">'/mongodb/data.*'</span>
sudo chcon -Rv -u system_u -t mongod_var_lib_t <span class="s1">'/mongodb/data'</span>
restorecon -R -v <span class="s1">'/mongodb/data'</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">If using a non-default MongoDB log directory of <code class="docutils literal"><span class="pre">/mongodb/log</span></code>
(e.g. if the log file path is <code class="docutils literal"><span class="pre">/mongodb/log/mongod.log</span></code>):</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo semanage fcontext -a -t mongod_log_t <span class="s1">'/mongodb/log.*'</span>
sudo chcon -Rv -u system_u -t mongod_log_t <span class="s1">'/mongodb/log'</span>
restorecon -R -v <span class="s1">'/mongodb/log'</span>
</pre></div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="using-a-custom-mongodb-port">
<h5>Using a Custom MongoDB Port<a class="headerlink" href="#using-a-custom-mongodb-port" title="Permalink to this headline">¶</a></h5>
<div class="docutils container">
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo semanage port -a -t mongod_port_t -p tcp &lt;portnumber&gt;
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="procedure">
<h3>Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h3>
<p>Follow these steps to run MongoDB Community Edition on your system.
These instructions assume that you are using the default settings.</p>
<p><strong>Init System</strong></p>
<p>To run and manage your <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process, you will be using
your operating system’s built-in <a class="reference internal" href="../../reference/glossary/#term-init-system"><span class="xref std std-term">init system</span></a>. Recent versions of
Linux tend to use <strong>systemd</strong> (which uses the <code class="docutils literal"><span class="pre">systemctl</span></code> command),
while older versions of Linux tend to use <strong>System V init</strong> (which uses
the <code class="docutils literal"><span class="pre">service</span></code> command).</p>
<p>If you are unsure which init system your platform uses, run the
following command:</p>
<div class="docutils container">
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>ps --no-headers -o comm <span class="m">1</span>
</pre></div>
</div>
</div>
</div>
<p>Then select the appropriate tab below based on the result:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">systemd</span></code> - select the <strong>systemd (systemctl)</strong> tab below.</li>
<li><code class="docutils literal"><span class="pre">init</span></code> - select the <strong>System V Init (service)</strong> tab below.</li>
</ul>
<div class="line-block">
<div class="line"><br></div>
</div>
<div class="tabs">
  <ul class="tab-strip tab-strip--singleton" role="tablist">
    <li class="tab-strip__element" data-tabid="systemdsystemctl" role="tab" aria-selected="true">systemd (systemctl)</li>
    <li class="tab-strip__element" data-tabid="systemvinitservice" role="tab" aria-selected="false">System V Init (service)</li>
  </ul>
  <div class="tabs__content" role="tabpanel">
    <div class="tabpanel-systemdsystemctl" data-tabid="systemdsystemctl"><div class="sequence-block"><div class="bullet-block"><div class="sequence-step">1</div></div><div class="section" id="start-mongodb">
<h4>Start MongoDB.<a class="headerlink" href="#start-mongodb" title="Permalink to this headline">¶</a></h4>
<p>You can start the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the
following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo systemctl start mongod
</pre></div>
</div>
</div>
<p>If you receive an error similar to the following when starting
<a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>:</p>
<div class="docutils container">
<code class="docutils literal"><span class="pre">Failed</span> <span class="pre">to</span> <span class="pre">start</span> <span class="pre">mongod.service:</span> <span class="pre">Unit</span> <span class="pre">mongod.service</span> <span class="pre">not</span> <span class="pre">found.</span></code></div>
<p>Run the following command first:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo systemctl daemon-reload
</pre></div>
</div>
</div>
<p>Then run the start command above again.</p>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">2</div></div><div class="section" id="verify-that-mongodb-has-started-successfully">
<h4>Verify that MongoDB has started successfully.<a class="headerlink" href="#verify-that-mongodb-has-started-successfully" title="Permalink to this headline">¶</a></h4>
<p>You can verify that the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process has started
successfully by issuing the following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo systemctl status mongod
</pre></div>
</div>
</div>
<p>You can optionally ensure that MongoDB will start following a
system reboot by issuing the following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo systemctl <span class="nb">enable</span> mongod
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">3</div></div><div class="section" id="stop-mongodb">
<h4>Stop MongoDB.<a class="headerlink" href="#stop-mongodb" title="Permalink to this headline">¶</a></h4>
<p>As needed, you can stop the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the
following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo systemctl stop mongod
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">4</div></div><div class="section" id="restart-mongodb">
<h4>Restart MongoDB.<a class="headerlink" href="#restart-mongodb" title="Permalink to this headline">¶</a></h4>
<p>You can restart the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the following
command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo systemctl restart mongod
</pre></div>
</div>
</div>
<p>You can follow the state of the process for errors or important messages
by watching the output in the <code class="docutils literal"><span class="pre">/var/log/mongodb/mongod.log</span></code> file.</p>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">5</div></div><div class="section" id="begin-using-mongodb">
<h4>Begin using MongoDB.<a class="headerlink" href="#begin-using-mongodb" title="Permalink to this headline">¶</a></h4>
<p>Start a <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell on the same host machine as the
<a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>. You can run the <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell
without any command-line options to connect to a
<a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> that is running on your localhost with default
port 27017:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-shell"><div class="highlight"><pre><span></span>mongo
</pre></div>
</div>
</div>
<p>For more information on connecting using the <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell, such as to connect to a <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance running
on a different host and/or port, see <a class="reference internal" href="../../mongo/"><span class="doc">The mongo Shell</span></a>.</p>
<p>To help you start using MongoDB, MongoDB provides <a class="reference internal" href="../getting-started/#getting-started"><span class="std std-ref">Getting
Started Guides</span></a> in various driver editions. For the
driver documentation, see <a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/drivers/">Start Developing with MongoDB</a>.</p>
</div></div>
</div>
<div class="tabpanel-systemvinitservice" data-tabid="systemvinitservice"><div class="sequence-block"><div class="bullet-block"><div class="sequence-step">1</div></div><div class="section" id="id4">
<h4>Start MongoDB.<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>You can start the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the following
command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo service mongod start
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">2</div></div><div class="section" id="id6">
<h4>Verify that MongoDB has started successfully<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>You can verify that the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process has started
successfully by checking the contents of the log file at
<code class="docutils literal"><span class="pre">/var/log/mongodb/mongod.log</span></code>
for a line reading</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-none"><div class="highlight"><pre><span></span>[initandlisten] waiting for connections on port &lt;port&gt;
</pre></div>
</div>
</div>
<p>where <code class="docutils literal"><span class="pre">&lt;port&gt;</span></code> is the port configured in <code class="docutils literal"><span class="pre">/etc/mongod.conf</span></code>, <code class="docutils literal"><span class="pre">27017</span></code> by default.</p>
<p>You can optionally ensure that MongoDB will start following a system
reboot by issuing the following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo chkconfig mongod on
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">3</div></div><div class="section" id="id8">
<h4>Stop MongoDB.<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>As needed, you can stop the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the
following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo service mongod stop
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">4</div></div><div class="section" id="id10">
<h4>Restart MongoDB.<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>You can restart the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the following
command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo service mongod restart
</pre></div>
</div>
</div>
<p>You can follow the state of the process for errors or important messages
by watching the output in the <code class="docutils literal"><span class="pre">/var/log/mongodb/mongod.log</span></code> file.</p>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">5</div></div><div class="section" id="id12">
<h4>Begin using MongoDB.<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>Start a <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell on the same host machine as the
<a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>. You can run the <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell
without any command-line options to connect to a
<a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> that is running on your localhost with default
port 27017:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-shell"><div class="highlight"><pre><span></span>mongo
</pre></div>
</div>
</div>
<p>For more information on connecting using the <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a>
shell, such as to connect to a <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> instance running
on a different host and/or port, see <a class="reference internal" href="../../mongo/"><span class="doc">The mongo Shell</span></a>.</p>
<p>To help you start using MongoDB, MongoDB provides <a class="reference internal" href="../getting-started/#getting-started"><span class="std std-ref">Getting
Started Guides</span></a> in various driver editions. For the
driver documentation, see <a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/drivers/">Start Developing with MongoDB</a>.</p>
</div></div>
    </div>
  </div>
</div></div>
</div>
<div class="section" id="uninstall-mongodb-community-edition">
<h2>Uninstall MongoDB Community Edition<a class="headerlink" href="#uninstall-mongodb-community-edition" title="Permalink to this headline">¶</a></h2>
<p>To completely remove MongoDB from a system, you must remove the MongoDB
applications themselves, the configuration files, and any directories containing
data and logs. The following section guides you through the necessary steps.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This process will <em>completely</em> remove MongoDB, its configuration, and <em>all</em>
databases. This process is not reversible, so ensure that all of your
configuration and data is backed up before proceeding.</p>
</div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">1</div></div><div class="section" id="id14">
<h3>Stop MongoDB.<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>Stop the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> process by issuing the following command:</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo service mongod stop
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">2</div></div><div class="section" id="remove-packages">
<h3>Remove Packages.<a class="headerlink" href="#remove-packages" title="Permalink to this headline">¶</a></h3>
<p>Remove any MongoDB packages that you had previously installed.</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo yum erase <span class="k">$(</span>rpm -qa <span class="p">|</span> grep mongodb-org<span class="k">)</span>
</pre></div>
</div>
</div>
</div></div>
<div class="sequence-block"><div class="bullet-block"><div class="sequence-step">3</div></div><div class="section" id="remove-data-directories">
<h3>Remove Data Directories.<a class="headerlink" href="#remove-data-directories" title="Permalink to this headline">¶</a></h3>
<p>Remove MongoDB databases and log files.</p>
<div class="button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-sh"><div class="highlight"><pre><span></span>sudo rm -r /var/log/mongodb
sudo rm -r /var/lib/mongo
</pre></div>
</div>
</div>
</div></div>
</div>
<div class="section" id="additional-information">
<h2>Additional Information<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="localhost-binding-by-default">
<h3>Localhost Binding by Default<a class="headerlink" href="#localhost-binding-by-default" title="Permalink to this headline">¶</a></h3>
<p>By default, MongoDB launches with <a class="reference internal" href="../../reference/configuration-options/#net.bindIp" title="net.bindIp"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">bindIp</span></code></a> set to
<code class="docutils literal"><span class="pre">127.0.0.1</span></code>, which binds to the localhost network interface. This
means that the <code class="docutils literal"><span class="pre">mongod</span></code> can only accept connections from
clients that are running on the same machine. Remote clients will not be
able to connect to the <code class="docutils literal"><span class="pre">mongod</span></code>, and the <code class="docutils literal"><span class="pre">mongod</span></code> will
not be able to initialize a <a class="reference internal" href="../../reference/glossary/#term-replica-set"><span class="xref std std-term">replica set</span></a> unless this value is set
to a valid network interface.</p>
<p>This value can be configured either:</p>
<ul class="simple">
<li>in the MongoDB configuration file with <a class="reference internal" href="../../reference/configuration-options/#net.bindIp" title="net.bindIp"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">bindIp</span></code></a>, or</li>
<li>via the command-line argument <a class="reference internal" href="../../reference/program/mongod/#cmdoption-mongod-bind-ip"><code class="xref std std-option docutils literal"><span class="pre">--bind_ip</span></code></a></li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Before binding to a non-localhost (e.g. publicly accessible)
IP address, ensure you have secured your cluster from unauthorized
access. For a complete list of security recommendations, see
<a class="reference internal" href="../../administration/security-checklist/"><span class="doc">Security Checklist</span></a>. At minimum, consider
<a class="reference internal" href="../../administration/security-checklist/#checklist-auth"><span class="std std-ref">enabling authentication</span></a> and
<a class="reference internal" href="../../core/security-hardening/"><span class="doc">hardening network infrastructure</span></a>.</p>
</div>
<p>For more information on configuring <a class="reference internal" href="../../reference/configuration-options/#net.bindIp" title="net.bindIp"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">bindIp</span></code></a>, see
<a class="reference internal" href="../../core/security-mongodb-configuration/"><span class="doc">IP Binding</span></a>.</p>
</div>
<div class="section" id="mongodb-community-edition-packages">
<h3>MongoDB Community Edition Packages<a class="headerlink" href="#mongodb-community-edition-packages" title="Permalink to this headline">¶</a></h3>
<p>MongoDB Community Edition is available from its own dedicated
repository, and contains the following officially-supported packages:</p>
<div class="docutils container">
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%">
<col width="75%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Package Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mongodb-org</span></code></td>
<td>A <code class="docutils literal"><span class="pre">metapackage</span></code> that automatically installs the component
packages listed below.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mongodb-org-server</span></code></td>
<td>Contains the <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a> daemon, associated init
script, and a <a class="reference internal" href="../../reference/configuration-options/#conf-file"><span class="std std-ref">configuration file</span></a> (<code class="docutils literal"><span class="pre">/etc/mongod.conf</span></code>). You
can use the initialization script to start <a class="reference internal" href="../../reference/program/mongod/#bin.mongod" title="bin.mongod"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code></a>
with the configuration file. For details, see <a class="reference internal" href="#run-mongodb-community-edition">Run MongoDB
Community Edition</a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mongodb-org-mongos</span></code></td>
<td>Contains the <a class="reference internal" href="../../reference/program/mongos/#bin.mongos" title="bin.mongos"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code></a> daemon.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mongodb-org-shell</span></code></td>
<td>Contains the <a class="reference internal" href="../../reference/program/mongo/#bin.mongo" title="bin.mongo"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code></a> shell.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mongodb-org-tools</span></code></td>
<td><p class="first">A <code class="docutils literal"><span class="pre">metapackage</span></code> that automatically installs the component
packages listed below:</p>
<table border="1" class="colwidths-given last docutils">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Package Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mongodb-database-tools</span></code></td>
<td><p class="first">Contains the following MongoDB database tools:</p>
<ul class="last simple">
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongodump/#bin.mongodump" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongodump</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongorestore/#bin.mongorestore" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongorestore</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/bsondump/#bin.bsondump" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">bsondump</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongoimport/#bin.mongoimport" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongoimport</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongoexport/#bin.mongoexport" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongoexport</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongostat/#bin.mongostat" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongostat</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongotop/#bin.mongotop" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongotop</span></code></a></li>
<li><a class="reference external" target="_blank" rel="noopener" href="https://docs.mongodb.com/database-tools/mongofiles/#bin.mongofiles" title="(in database-tools vmaster)"><code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongofiles</span></code></a></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mongodb-org-database-tools-extra</span></code></td>
<td>Contains the <a class="reference internal" href="../../reference/program/install_compass/#install-compass"><span class="std std-ref">install_compass</span></a> script</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="toctree-wrapper compound">
</div>
</div>
</div>
</div>

                
    
                  
              </div></div>
            </div>
        </div>
    </div>
  </div>

</body></html>
    </div>
</article>
      </div>
      <footer class="max-w-mian-size color-black-1 font--75 bg-gray-type1 width-percent-100">
  <div class="display-flex item-center max-w-mian-size margin-center height-100-">
    <p class="mg-0 nowrap">© 2020 dzd (๑• . •๑)</p>
  </div>
</footer>
    </main>
  </div>
  
<script src="/js/init.js"></script>

  
<script src="/js/imagePreview.js"></script>

  
<script src="/js/intersection-observer.js"></script>

</body>
</html>