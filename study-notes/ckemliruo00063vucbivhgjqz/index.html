<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
  <title>dzd`s blog</title>
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/style.css">

  <script src="https://kit.fontawesome.com/895a2e3e9e.js" crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 5.0.2"></head>
<body>
  <div class="content-main-div min-vh-100">
    <header class="sticky height-120 top-0 width-percent-100 mg-b-20">
  <div class="display-flex height-100- item-space-between max-w-mian-size margin-center">
    <div class="mg-l-rem-2 display-flex shrink-0">
      <span class="logo"></span>
      <span class="color-white logo-text">DZD-HELLO</span>
    </div>
    <nav class="grow-1">
      <ul class="menu mg-0">
        
        <li class="">
          <a class="nav-a" href="/" >Home</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/archives" >Archives</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/bookmarks/bookmarks_2020_8_24" >Bookmarks</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/notes/index" >Notes</a>
        </li>
        
        <li class="">
          <a class="nav-a" href="/about/me" >About</a>
        </li>
        
      </ul>
    </nav>
    <span class="mg-r-rem-2">here is header.</span>
    <div class="absolute header-thumbtack cursor-pointer color-black-2 active">
      <span>
        <i class="absolute fa-thumbtack fas"></i>
      </span>
    </div>
  </div>
</header>
    <main class="">
      <div class="max-w-mian-size margin-center bg-white">
        <article>
  <div>
    <h2>学习笔记-docker环境使用jenkins构建Vue项目，使用nginx部署</h2>
  </div>
  <div>
    <span>2020-08-24</span>
  </div>
  <div>
    <blockquote>
<p>说明：运行环境为虚拟机安装的centOs7操作系统（<a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-2003.iso">下载地址</a>），安装的docker版本为19.03.12。环境准备阶段不做赘述，下面从安装jenkins开始：</p>
</blockquote>
<ol>
<li><h3 id="jenkins准备阶段"><a href="#jenkins准备阶段" class="headerlink" title="jenkins准备阶段"></a>jenkins准备阶段</h3><ul>
<li>新建一个目录<strong>jenkins_home</strong>，用来挂载到jenkins容器里面，可以保存配置<br><code>mkdir -p /var/workspace-20200824/jenkins_home</code></li>
<li>拉取jenkins镜像<br><code>docker pull jenkins/jenkins:lts</code></li>
<li>启动jenkins<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -u root --name jenkins_node \</span><br><span class="line">-p 9080:8080 -p 50000:50000 \</span><br><span class="line">-v $(which docker):&#x2F;usr&#x2F;bin&#x2F;docker \</span><br><span class="line">-v &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock \</span><br><span class="line">-v &#x2F;var&#x2F;workspace-20200824&#x2F;jenkins_home:&#x2F;var&#x2F;jenkins_home \</span><br><span class="line">-e TZ&#x3D;&quot;Asia&#x2F;Shanghai&quot; -v &#x2F;etc&#x2F;localtime:&#x2F;etc&#x2F;localtime:ro \</span><br><span class="line">jenkins&#x2F;jenkins:lts</span><br></pre></td></tr></table></figure>
<blockquote>
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t2.png" class="" title="运行效果图" alt="运行效果图"></blockquote>
</li>
<li>打开网站x.x.x.x:9080，要稍等一会，然后安装插件，我这里自己选的需要的<blockquote>
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t1.png" class="" title="安装插件" alt="安装插件"></blockquote>
</li>
<li>然后创建用户<blockquote>
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t3.png" class="" title="创建用户" alt="创建用户"></blockquote>
</li>
<li>一些配置<blockquote>
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t4.png" class="" title="进入全局配置" alt="进入全局配置">
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t5.png" class="" title="配置node" alt="配置node">
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t6.png" class="" title="进入系统配置" alt="进入系统配置">
<img src="/study-notes/ckemliruo00063vucbivhgjqz/t7.png" class="" title="配置SSH连接并测试连接" alt="配置SSH连接并测试连接">
</blockquote>
</li>
</ul>
</li>
<li><h3 id="准备github仓库"><a href="#准备github仓库" class="headerlink" title="准备github仓库"></a>准备github仓库</h3><ul>
<li>待写。。。</li>
</ul>
</li>
</ol>

  </div>
</article>
      </div>
    </main>
    <footer class="mg-t-20">
  <div class="display-flex item-center max-w-mian-size margin-center height-100-">
    <p class="color-black-2 mg-0 nowrap"> © dzd</p>
  </div>
</footer>
  </div>
  
<script src="/js/init.js"></script>

</body>
</html>